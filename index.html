<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pegasus AI Chat</title>
    <style>
        body { font-family: Arial, sans-serif; max-width: 800px; margin: 0 auto; padding: 20px; }
        #chatbox { height: 300px; border: 1px solid #ddd; overflow-y: scroll; padding: 10px; margin-bottom: 10px; }
        #userinput { width: 70%; padding: 5px; }
        #sendbtn { padding: 5px 15px; }
        .user { color: blue; }
        .assistant { color: green; }
    </style>
</head>
<body>
    <I apologize for the confusion. It seems that the issue persists. Let's try a different approach by separating the HTML content into a separate file and modifying our `index.js` to serve it. Here's what we'll do:

1. Create a new file called `index.html` in the same directory as `index.js`.
2. Move the HTML content from `index.js` to `index.html`.
3. Update `index.js` to read and serve the HTML file.

First, let's create the `index.html` file:

**File: c:\Users\Daniel\Desktop\pegasus-ai-node\index.html**
```html
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pegasus AI Chat</title>
    <style>
        body { font-family: Arial, sans-serif; max-width: 800px; margin: 0 auto; padding: 20px; }
        #chatbox { height: 300px; border: 1px solid #ddd; overflow-y: scroll; padding: 10px; margin-bottom: 10px; }
        #userinput { width: 70%; padding: 5px; }
        #sendbtn { padding: 5px 15px; }
        .user { color: blue; }
        .assistant { color: green; }
    </style>
</head>
<body>
    <h1>Pegasus AI Chat</h1>
    <div id="chatbox"></div>
    <input type="text" id="userinput" placeholder="Type your message here...">
    <button id="sendbtn">Send</button>
    <button id="clearbtn">Clear History</button>

    <script>
        const chatbox = document.getElementById('chatbox');
        const userinput = document.getElementById('userinput');
        const sendbtn = document.getElementById('sendbtn');
        const clearbtn = document.getElementById('clearbtn');

        sendbtn.onclick = async () => {
            const message = userinput.value;
            if (message) {
                appendMessage('user', message);
                userinput.value = '';
                try {
                    const response = await fetch('/api/chat', {
                        method: 'POST',
                        headers: { 'Content-Type': 'application/json' },
                        body: JSON.stringify({ message })
                    });
                    const data = await response.json();
                    appendMessage('assistant', data.response);
                } catch (error) {
                    console.error('Error:', error);
                    appendMessage('assistant', 'Sorry, an error occurred.');
                }
            }
        };

        clearbtn.onclick = async () => {
            await fetch('/api/clear', { method: 'POST' });
            chatbox.innerHTML = '';
        };

        function appendMessage(role, content) {
            const p = document.createElement('p');
            p.className = role;
            p.textContent = `${role === 'user' ? 'You' : 'Pegasus'}: ${content}`;
            chatbox.appendChild(p);
            chatbox.scrollTop = chatbox.scrollHeight;
        }

        userinput.addEventListener('keypress', (e) => {
            if (e.key === 'Enter') sendbtn.click();
        });
    </script>
</body>
</html>